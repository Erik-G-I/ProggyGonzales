# Oblig 4

## Proggy Gonzales
Proggy Gonzales er et 2D-spill der objektet er å samle så mye som mulig penger på veien til butikken, og rekke stengetid.

### Team og Prosjekt
Gjennom prosjektet har vi evaluert om vi ønsket å beholde rollene vi tilegnet i starten. Disse rollene har fungert \
svært godt og vi har endret lite på de. Det var derimot vanskelig i starten å vite hvilke områder vi trengte at medlemmer \
skulle ha ansvar for. Vi fant ut tidlig at vi ønsket et estetisk fint produkt med tanke på grafikk og visualiseringer, og \
Chantal tok derfor ekstra ansvar for dette. Generelt for semesteret er at alle har hatt tunge kodeoppgaver, men at rollene \
har spesifisert et ekstra ansvar utover kodearbeidet. Vi har hatt en flat struktur i teamet der beslutninger tas med konsensus,\ 
og Hannah og Erik H sine roller som Teamlead og nestlead har i størst grad gått i å følge ekstra opp på krav til \
oppgaven og sørget for at disse ble gjennomført.

#### Team roller
##### Hannah Mørken
Rolle: Teamlead \
Hovedoppgave: Hannah skal sørge for at tidsfrister blir overholdt og inkludere alle når \
beslutninger skal tas. Hun skal sammen med Erik H ha et ekstra ansvar for å oppdatere Trello.


##### Erik Harto
Rolle: Team nestlead \
Hovedoppgave: Sammen med Hannah sørge for at progresjonen til prosjektet \ 
følger planen, og at prosjektet møter kravene oppgaven krever.


##### Erik Gunnaleite Ingebrigtsen  
Rolle: Teknisk ansvarlig \
Hovedoppgave: Erik I har et ekstra ansvar for å sørge for at koden alltid kan kjøres, samt være en \
støttespiller når andre lurer på noe knyttet til GIT eller andre programmer vi benytter.


##### Chantal H. Bakar
Rolle: Grafisk ansvarlig og Kundekontakt
Hovedoppgave: Chantal har et ekstra ansvar for å gjøre spillet så estetisk vakkert som mulig. Det innebærer å lage bakgrunner og menyer \
Hun skal og delegere arbeid knyttet til dette videre. Hun skal og ta i mot tilbakemeldinger fra kunden slik at vi kan bruke det til å \
forbedre produktet.


##### Alexander Klemeyer Smith
Rolle: Kommunikasjonsansvarlig \
Hovedoppgave: Alexander skal passe på at teamet ikke går i klassiske feller som å bli konforme. Han har et ekstra ansvar med å utfordre \
hvordan vi tenker og derfor sørge for at vi ikke er enige fordi vi ikke tør å si i mot gruppen. Han skal og sørge for at alle føler seg \
verdsatt i teamet og blir hørt på innspillene de kommer med.

##### Roller - Retroperspektiv
Sett i perspektiv av at prosjektet nå er ferdig har vi følgende synspunkter på hvordan rollefordelingen har vært:
- Oppgavene som hver rolle har innebært har blitt tatt seriøst av hvert enkeltmedlem. 
- Vi har i stor grad hatt spesialiserte områder innenfor koding som ikke rollebeskrivelsen har fått fram
- Innføring av grafisk ansvarlig har vært en kjempesuksess
- 
- 

### Prosjektmetodikk
Vi har hatt lite endring på prosjektmetodikken vår gjennom semesteret, men vi har etter hver innlevering \
evaluert om det vi har brukt fram til da er riktig for oss. Oppsummert har vi ønsket den kontinuerlige \
progresjonen som Kanban tilbyr, men vi var og motivert for å ha et bedre produkt å vise til for hver innlevering \
og har dermed i tråd med Scrum kjørt kortere sprinter for å kunne levere mest mulig til kunden. Vi har dermed lent \
oss i stor grad mot Kanban som prosjektmetodikk. 

Til denne innleveringen har vi beveget oss mer mot Scrum som prosjektmetodikk. Dette var fordi vi ønsket tydeligere \
sprinter mellom hvert møte, og mer planlegging både før og etter hver sprint. Til hvert møte har vi ønsket å kunne ha noe \
å vise til, og uten å bruke tid på en release, så skal koden være en tydelig forbedring fra siste møte. Vi har i tillegg \
ønsket å ha et fokus på at hvert gruppemedlem helst skal ha én tydelig arbeidsoppgave til neste gang, med mulighet om å \
begynne på en til dersom man ble ferdig. Vi hadde og stort fokus på oversikt hvilke arbeidsoppgaver som til en hver tid \
trengte å gjøres. På Trello lagde vi i første møtet en stor bunke oppgaver på things that need to be done, og i hvert møte \
tildelte vi én oppgave per person til current sprint, og la ca. 5 oppgaver til up-next avhengig av hvor stor arbeidsmengde \
current sprint var. Hvis noen ble ferdige med en oppgave i sprinten kunne man tildele seg en oppgave fra up next. Slik \
passet vi på at alle alltid hadde noe å gjøre, samt at progresjonen kunne overstige det fastsatte målet for sprinten.

### Retroperspektiv
Sett i retroperspektiv er det et par ting vi sitter igjen med som vi skulle ønske vi visste da vi startet prosjektet:
1. Vi skulle ønske vi tidligere jobbet hyppigere med parprogrammering. Parprogrammering opplevde vi som velig positivt av flere grunner:
    * Arbeidet med komplekse problemer gikk raskere. 
    * Det er lettere å tenke på flere løsninger rundt komplekse problemstillinger når man kan bygge på andres innspill.
    * Det er sosialt og skapte dermed sterkere samhold
2. Vi skulle ønske vi var flinkere til å planlegge hver sprint, og bruke Trello på en smartere måte. 
    * I starten av prosjektet satt vi ikke tydelige mål for hvor langt vi ønsker å komme til på hver innlevering.
    * Vi kunne brukt Trello smartere ved å tidligere bruke aktivt "Things that needs to be done" - hvor alle oppgaver for sprinten skal være, "Current sprint" - en oppgave per person og "next up" som er tilleggsoppgaver for hver person. Hvis vi i tillegg delte opp "Done"-fanen til "Done" og "Done - Current Sprint", ville det vært mer oversiktlig å se progresjonen for nåværende sprint, og lettere for gruppeleder å vite hva som er gjort siden sist. 
    * Vi hadde i tillegg alt for mange mindre oppgaver fordelt på hver person, i stedet for å gjøre oss ferdig med én oppgave for så å gå bevege oss videre.
    * Oppsummert førte det til mindre progresjon enn vi kanskje kunne klart, og gjorde at vi arbeidet mindre effektivt. 
3. 


### Møtereferater og Trello
- Link til Møtereferater og Trello under:
- [Møtereferater - Oblig 4](https://git.app.uib.no/Erik.Ingebrigtsen/inf112.proggy-gonzales/-/blob/master/Deliverables/M%C3%B8tereferater%20oblig4.md)
- [Trello Project Board](https://trello.com/b/Ar2twdkF/inf112)


#### Grafikk og inspirasjon
- Grafiske elementer som tiles, power-ups, players og har alle blitt laget av oss i [Piskel](https://www.piskelapp.com/). Unntaket er skyene til bakgrunnen som er hentet fra [Pinterest](https://no.pinterest.com/pin/530369293614137336/)
- Font er hentet fra en [database](https://somepx.itch.io/humble-fonts-free) med gratis fonter.
- Lyder er hentet fra opengameart [Pakke 1](https://opengameart.org/content/5-chiptunes-action) & [Pakke 2](https://opengameart.org/content/512-sound-effects-8-bit-style). Lydeffektene er i pakkene som urlen kobler til. 


# Deloppgave 2
### Stretch-goal
Vi har i løpet av siste innlevering jobbet med to stretch goals:
- Multiplayer
    - Kunne løses på to forskjellige måter:
    1. Når multiplayer blir valgt vil skjermen bli delt i to, og man spiller på hver sin del. Det vil da være en konkuranse mellom de to spillerene, og den som fullfører først, vinner.
    2. Når multiplayer blir valgt vil det bli opprettet en til spiller i samme spillverden. Disse to spillerne skal da samarbeide om å klare levelet.

        * Begge ideene hadde utfordringer og problemstillinger som måtte løses. Det var vanskelig å få skjermen til å deles i to, og få to spill til å bli opprettet siden alt fra start til slutt (språk-meny til highscore-side) skjer i samme klasse. Med to spillere i samme verden ble spørmålet om hvilken spiller skjermen skal følge en vanskeilg problemstilling. Ettersom å dele skjermen i to med konkurranse mellom de to spillerne ville føre til alt for stor endring i strukturen til koden endte vi opp med alternativ 2. De opptrer da på samme skjerm, og spillkameraet følger hovedpersonen Proggy. 

- Highscore Database
    * Vi har satt opp et system som lagrer highscore og kobler det sammen med et navn eller lagnavn som spiller legger inn. Det skiller ikke mellom single- eller multiplayer, men er en highscore-liste per level. Poengsum regnes ut fra antall coins plukket opp + antall sekunder igjen på timer. 

### MVP-krav

1. Vise et spillebrett
2. Vise spiller på spillebrett
3. Flytte spiller (vha taster e.l.)
4. Spiller interagerer med terreng
5. Spiller har poeng og interagerer med poenggjenstander
6. Vise fiender/monstre; de skal interagere med terreng og spiller
7. Spiller kan tape (når tiden går ut)
8. Mål for spillbrett (butikken når spiller har nok penger)
9. Nytt spillbrett når forrige er ferdig
10. Start-skjerm ved oppstart / game over
11. Støtte flere spillere (enten på samme maskin eller over nettverk)

| Brukerhistorier | Akseptansekriterier | Arbeidsoppgaver | MVP-krav |
| --------------- | ------------------- | --------------- | -------- |
| Som spiller er det viktig å ha god oversikt over hvordan man ligger an med tiden slik at man lettere kan nå butikken i tide. | Gitt at spiller har valgt "Play Game" og spillet er startet, så skal tid vises øverst på skjermen i form av nedtelling. | Time-klasse som implementerer actionListener, og en TimerDisplay som viser tiden på skjermen i bestemt skrifttype og skriftstørrelse. | 7
Som spiller trenger jeg å vite/forstå hvordan fiender ser ut slik at jeg kan lettere unngå dem. | Gitt at spiller har valgt "About" på startmenyen, så skal spillregler og historie vises med oversikt over fiender og farer. | Lage en enemy-klasse som ligner litt på player-klassen, og muligens lage et interface de begge kan implementere. Lage en display-klasse for start- og sluttside. | 10, 6
Som spiller ønsker jeg å ha hjelpemidler/power-ups i spillet slik at de kan hjelpe meg å nå mål på tross av fiender og tid. | Gitt at spiller ikke allerede bruker en power up, så skal spiller kunne plukke opp en power-up og bruke den i 10 sekunder. Gitt at spiller bruker munnbind, så skal han ikke miste penger når han møter på en fiende. Gitt at spiller bruker voi eller gullsko, så skal han gå i en raskere hastighet. | Lage metoder for å plukke opp og hva som skal skje når power-ups blir plukket opp i collisionCheck. Spiller skal ha ulike tilstander som sier noe om hvilken power-up som er i bruk. | 5, 6
Som spiller ønsker jeg et spillbrett som tydelig viser meg som spiller, samt hvor jeg kan og ikke kan gå slik at jeg lett kan forstå spillet. | Gitt at spiller prøver å bevege seg mot en vegg/plattform, så skal avataren kollidere med veggen og dermed blir stående.  Spiller skal ikke kunne gå, falle eller hoppe gjennom plattformer og vegger. Vedkommende skal også kunne hoppe, gitt at hen står på bakken. | Lage en tile-klasse for hver tile, og en tileLoader-klasse. TileLoader skal hente ut bildene for de ulike tilsene og tegne de på brettet. I tillegg bør vi ha en klasse for kollisjon mellom actors og tiles. | 2, 4
Som spiller har jeg behov for en oversikt over hvor mye penger jeg har samlet inn slik at jeg vet jeg har råd til øl når jeg kommer til butikken. | Gitt at spiller går på en pengegjenstand, så skal den fjernes fra spillbrettet og poengscoren økes. Poengoversikten skal vises tydelig på skjermen. | Kollisjon mellom spiller og penger skal implementeres i collisionCheck, og det skal lages en klasse som holder styr på poengscoren til spiller. | 5
Som spiller trenger jeg at det er tydelig hva som er mål, slik at jeg kan klare å finne fram raskest mulig. | Gitt at spiller har nådd slutten av spillbrettet der butikken befinner seg, så skal butikken/målet vises tydelig og ha et dominerende utseende med god grafikk. | Tegne butikken slik at det står i stil med resten spillet, men samtidig har et dominerende utseende. Gi spiller informasjon om hva som er mål på startsiden. | 8, 10
Som spiller ønsker jeg et spill som er gøy og engasjerende slik at jeg blir motivert til å spille. | Gitt at spillet er velfungerende, så skal det være et mål og en god score-funksjon slik at det er motiverende og gøy å spille. | Lage god grafikk og spennende elementer i spillet, men samtidig ikke for avansert slik at spillet er lett å sette seg inn i. | 8, 5
Som spiller trenger jeg å vite når spillet har startet og når målet er oppnådd / spillet er over slik at jeg videre kan bestemme om jeg vil prøve på nytt eller avslutte spillet. | Gitt at koden kompilerer og kjører, så skal startsiden vises med de ulike valgene, og forsvinne når “Play Game” er valgt. Gitt at spillet har tapt eller vunnet, så skal det vises en skjerm som informerer spiller om resultatene på spillrunden. | Lage en klasse til Game-over og en til start-skjerm. Evt. lage en superklasse disse kan implementere eller utvide. | 10
Som spiller trenger jeg å se meg selv på skjermen hele tiden for å holde oversikt over hvor jeg er i spillverdenen, og vite hvor jeg skal gå videre for å unngå at jeg går feil og taper spillet. | Gitt at spiller beveger seg, så skal skjermen skrolle med spiller slik at spilleren alltid er i sentrum. | Lage variabler for spillerens plassering og for bakgrunnens plassering. Siden spilleren alltid skal vises på midten av skjermen, skal koordinatene til bakgrunnen endres med piltastene og ikke spillerens. | 4, 1
Som spiller vil jeg ha muligheten til å spille mot og med andre slik at det også kan være en sosial aktivitet når man spiller spillet. | Gitt at spillere har valgt å spille som multiplayer på startskjermen, så skal spilleskjermen bli delt i to slik at spillerne kan konkurrere mot hverandre, med hver sin del av skjermen. | Main-metoden må endres slik at den kan tegne to skjermer ved siden av hverandre om multiplayer er valgt. Legge til muligheten til å kjøre to spill samtidig, og lage metoder som bestemmer hvem som er vinner/taper. | 11 

**Prioritert liste over brukerhistorier til siste iterasjon**
- Som spiller vil jeg ha muligheten til å spille mot og med andre slik at det også kan være en sosial aktivitet når man spiller spillet.
- Som spiller ønsker jeg å ha hjelpemidler/power-ups i spillet slik at de kan hjelpe meg å nå mål på tross av fiender og tid.
- Som spiller trenger jeg å vite/forstå hvordan fiender ser ut slik at jeg kan lettere unngå dem.
- Som spiller trenger jeg å vite når spillet har startet og når målet er oppnådd / spillet er over slik at jeg videre kan bestemme om jeg vil prøve på nytt eller avslutte spillet.
- Som ny og uerfaren spiller ønsker jeg et spill som er enkelt å forstå
- Som spiller ønsker jeg et spill som er gøy og engasjerende slik at jeg blir motivert til å spille.

**MVP-krav oppfylt** 

Det vi har fokusert mest på siden forrige innleveringen er å gjøre det mulig å spille med to spillere, få fiendene til å bevege seg og interagere med terrenget, å få power-ups til å fungere som de skal og å lage en highscore-side som oppdateres hver gang man fullfører et level. 

Å få fiendene til å bevege seg og interagere med terrenget var også en utfordring. For å få skjermen til å følge spilleren har vi gjort det slik at spilleren alltid blir tegnet på samme koordinater, og at bakgrunnen beveger seg basert på tast-inputet fra brukeren. Dette gjorde det å få fiendene til å bevege seg fritt, uavhengig av spiller og med bakgrunnen, litt utfordrene. Power-upsene var noe enklere å implementere da de ble lagt til som tiles. Vi brukte collisionCheck til å holde styr på om spiller kolliderte med gjenstandene, og fra det hvilken tilstand spiller skulle være i. Å ha en highscore-side var en av våre stretch-goals, så vi er veldig fornøyd med at vi fikk til dette. Vi valgte å lage tre databaser som holder på highsocrene fra hver av nivåene. Databasene er txt-filer som blir skrevet om hver gang noen fullfører et level og får en poengscore som er blant topp fem. For å kunne skille highscorene valgte vi også å spørre brukeren om navn før hvert spill, slik at hver score blir lagret med penger samlet inn, tid brukt og navn. Det var også flere mindre detaljer som måtte forbedres i spillet, før vi var klare til å si oss ferdige. Vi la blant annet til mye grafikk og flere valg på menyen for å gjøre spillet enda mer intuitivt og estetisk. Vi lagde også tre spillbrett i tre ulike vanskelighetsgrader.

# Deloppgave 3

### Utbedring av feil
Siden forrige innlevering har dette blitt utbedret:
- **Testkvalitet**: Med flere klasser og implementasjoner, deriblant en ny måte å fikse fiender på, har det blitt laget nye tester til disse, samt nye tester til tidligere ideer og klasser.
- **MVP-Krav**: Det siste MVP kravet har blitt oppfylt, hvilket er at spillet nå støtter flere spillere samtidig. Alle MVP krav skal derfor være oppfylt.
- **Andel av kode som brukes**: All kode er gått gjennom. Variabler og funksjoner som har vært repeterende eller stått ubrukt er ryddet bort og oppsett av kode er gjort mer oversiktlig og ryddig.
- **Single Responsibility Principle**: Vi har siden siste innlevering jobbet med å få alle klasser og funksjoner til å kun ha ansvar for kun en del av spillet, og har da f.eks. laget en felles entity-klasse med alt felles som blir brukt av både players og enemies. Det gjør at koden blir mer oversiktlig og sørger for at man ikke sitter igjen med duplikat/overflødig kode

